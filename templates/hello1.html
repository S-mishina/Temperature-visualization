{% extends "layout.html" %}
{% block content %}
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.2/Chart.bundle.js"></script>
<h1>Temperature-visualization</h1>
<nav aria-label="breadcrumb">
    <ol class="breadcrumb">
      <li class="breadcrumb-item"><a href="hello.html">週</a></li>
      <li class="breadcrumb-item"><a href="hello1.html">時</a></li>
      <!--<li class="breadcrumb-item"><a href="hello3.html">月</a></li>-->
    </ol>
  </nav>
  <h2>4時間の温度データ</h2>
  <canvas id="myLineChart"></canvas>
  <br>
  <br>
  <pre>現在時刻が0時の場合には現在時刻のみが表示されます.</pre>
    <center>

        <br>
        <pre>
    <b>
        <b>現在の気温</b>
        日付:{% for member in members %}{{ member.day}}{% endfor %}
        時間：{% for member in members %}{{ member.time}}{% endfor %}
        現在の温度{% for member in members %}{{ member.temperature}}{% endfor %}°
        </pre>
    </b>
    </center>
  <script>
    var t1 = "{% for test1 in test1 %}{{test1.temperature}}{% endfor %}"
    var t2 = "{% for test2 in test2 %}{{test2.temperature}}{% endfor %}"
    var t3 = "{% for members4 in today3 %}{{members3.temperature}}{% endfor %}"
    var t4 = "{% for members5 in today4 %}{{members4.temperature}}{% endfor %}"
    var today5 = "{% for today5 in today5 %}{{today5.temperature}}{% endfor %}"
    var ctx = document.getElementById("myLineChart");
    var myLineChart = new Chart(ctx, {
      type: 'line',
      data: {
        labels: ['4時間前','3時間前', '2時間前', '１時間前'],
        datasets: [
          {
            label: '温度',
            data: [t4, t3, t2, t1],
            borderColor: "rgba(0,0,255,1)",
            backgroundColor: "rgba(0,0,0,0)"
          }
        ],
      },
      options: {
        title: {
          display: true,
          text: '温度(時)'
        },
        scales: {
          yAxes: [{
            ticks: {
              suggestedMax: 40,
              suggestedMin: 0,
              stepSize: 10,
              callback: function(value, index, values){
                return  value +  '度'
              }
            }
          }]
        },
      }
    });
    </script>

{% endblock %}